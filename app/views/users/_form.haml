= form_with(url: url, model: user, local: true) do |form|
  - if user.errors.any?
    #error_explanation
      %h2
        = pluralize(user.errors.count, "error")
        prohibited this user from being saved:
      %ul
        - user.errors.full_messages.each do |message|
          %li= message

  -if type == 'new'
    .field
      =form.label :username
      .control
        =form.text_field :username, class: 'input'

  .field
    =form.label :password
    .control
    =form.text_field :password, class: 'input'
  .field
    =form.label :password_confirmation
    .control
    =form.text_field :password_confirmation, class: 'input'
  .field
    =form.label :name
    .control
    =form.text_field :name, class: 'input'
  .field
    =form.label :dob
    .control
    =form.date_field :dob, class: 'input'
  .field
    =form.label :gender
    .control
      %label.radio
        =t('genders.male')
        =form.radio_button :gender, 'male'
      %label.radio
        =t('genders.female')
        =form.radio_button :gender, 'female'
      %label.radio
        =t('genders.other')
        =form.radio_button :gender, 'other'

  -if type == 'edit'
    .field
      =form.label :bio
      .control
        =form.text_area :bio, class: 'textarea'
  .field.is-grouped
    .control
      =form.submit class: 'button is-link'
    -if type == 'edit'
      .control
        =button_to t('.delete'), '/account', method: :delete, data: {confirm: t('.delete_confirm')}, class: 'button is-danger'
